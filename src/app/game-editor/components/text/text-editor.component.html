<rg-edit-header title="Entities" [showEditor]="showEditor" [saveEnabled]="saveEnabled" (add)="showItemEditor()"
    (cancel)="hideItemEditor()" (save)="handleSave()">
</rg-edit-header>

<div [ngClass]="{'hidden': showEditor}">
    <rg-entity-list [template]="template" [items]="items" [connectedEntities]="connectedEntities"
        (editItem)="editItem.emit($event)" (removeItem)="removeItem.emit($event)">
    </rg-entity-list>
</div>

<div *ngIf="showEditor">
    <div class="edit-area">
        <rg-entity-editor #editor *ngIf="showEditor" [formDefinition]="formDefinition"
            [connectedEntities]="connectedEntities" [selectedItem]="selectedItem" (update)="handleDraftUpdate($event)">
        </rg-entity-editor>

        <rg-text-preview [data]="draft" [context]="expressionContext"></rg-text-preview>
    </div>
</div>
