<div [ngClass]="{'hidden': showFieldEditor}">
    <rg-map-toolbar
            (addBackground)="addBackground.emit($event)"
            (removeBackground)="removeBackground.emit()"
            (addField)="handleFieldEditorToggle(true)"
            (enterPathCreationMode)="togglePathCreation.emit(true)"
            (exitPathCreationMode)="togglePathCreation.emit(false)"
            [pathCreationMode]="pathCreationMode"
    ></rg-map-toolbar>
    <div class="canvas-wrapper" #canvasWrapper tabindex="0">
        <!--<canvas #canvas id="fCanvas"></canvas>-->
    </div>

    <ng-container>

        <rg-map-field
                *ngFor="let field of fields"
                [data]="field"
                [mapLocation]="mapLocations[field.id]"
        >
        </rg-map-field>

    </ng-container>

    <ng-container *ngIf="fields.length">
        <rg-map-path
                *ngFor="let path of mapPaths"
                [data]="path"
                [mapLocations]="mapLocations"
        >
        </rg-map-path>
    </ng-container>
</div>

<rg-smart-field-editor *ngIf="showFieldEditor"
                       (save)="fieldWasSaved($event)"
                       (cancel)="handleFieldEditorToggle(false)"
                       [field]="selectedField"
>

</rg-smart-field-editor>
