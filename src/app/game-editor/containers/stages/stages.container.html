<rg-editor-layout>
    <rg-entity-view
    [formDefinition]="formDefinition"
    [items]="items$ | async"
    [showEditor]="showEditor$ | async"
    [selectedItem]="selectedItem$ | async"
    [connectedEntities]="connectedEntities$ | async"
    [template]="template"
    (toggleEditor)="toggleEditor($event)"
    (saveItem)="saveItem($event)"
    (editItem)="editItem($event)"
    (removeItem)="removeItem($event)">
    </rg-entity-view>
</rg-editor-layout>

<ng-template #template let-item>
    <mat-card>
        <mat-card-header>
            <mat-card-title>{{item.name}}</mat-card-title>
            <img *ngIf="item.image" mat-card-avatar [src]="item.image" />
        </mat-card-header>
        <mat-card-content>

            <p>{{item.description}}</p>
            <a [routerLink]="[item.id, 'map']">Open map</a>
        </mat-card-content>

        <mat-card-actions>
            <button mat-button (click)="removeItem(item)">Remove</button>
            <button mat-button (click)="editItem(item)">Edit</button>
        </mat-card-actions>

    </mat-card>
</ng-template>